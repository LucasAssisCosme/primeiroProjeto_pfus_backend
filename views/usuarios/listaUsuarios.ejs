<!-- Cabecalho principal -->
<%- include('../partials/header') %>

<!-- conteudo do index -->
<main class="container text-center mt-3">
    <h1>LISTA USUARIOS</h1>
    <!-- Criando botão para pagina de cadastro -->
     <a href="/usuarios/cadastrar">
        <button class="btn btn-lg btn-primary">
            <!-- Utilizando icone do bootstrap -->
            <i class="bi bi-plus-circle"></i>
            Cadastrar
        </button>
    </a>
    <!-- Criando a tabela de acordo com a lista de usuarios -->
    <% if (usuarios && usuarios.length > 0) { %>
          <!-- Criando a tabela -->
            <table class="table table-striped table-hover aling-middle mt-5">
                <!-- Cabecalho tabela -->
             <thead class="table-dark">
                <tr class="text-center">
                    <th scope="col"> ID</th>
                    <th scope="col"> usuário</th>
                    <th scope="col"> E-mail</th>
                    <th scope="col"> Tipo</th>
                    <th scope="col"> Ações</th>
                    
                </tr>
             </thead>
             <!-- corpo tabela -->
             <tbody>
              <!-- usando a função foreach para pecorrer o array de usuarios -->
                <% usuarios.forEach((usuario) => { %>
                    <tr >
                        <td> <%= usuario.id %> </td>
                        <td> <%= usuario.usuario %> </td>
                        <td>  <%= usuario.email %> </td>
                        <td>  <%= usuario.tipo %> </td>
                        <td>
                            <!-- Botão de editar -->
                             <a href="/usuarios/<%= usuario.id %>">
                            <button class="btn btn-sm btn-warning me-2">
                                <i class="bi bi-pencil-square"></i>  
                                Editar
                            </button>
                            </a>
                            <!-- Botão de excluir -->
                             <a href="#">
                         <button class="btn btn-sm btn-danger me-2">
                                <i class="bi bi-trash3"></i>  
                                  Excluir
                            </button>
                            </a>
                        </td>
                    </tr>
              <%  })  %>
             </tbody>
            </table>
        <% } else { %>
            <!-- Mostra uma mensagem, caso não haja nenhum usuario cadastrado -->
           <div class="alert alert-warning text-center mt-5">
              Nenhum usuário cadastrado no momento.
           </div>
    <% } %>
</main>

<!-- Rodape de todas as paginas -->
<%- include('../partials/footer') %>