<%- include('../partials/header') %>

    <!-- conteudo do index -->
    <main class="container d-flex flex-column flex-fill justify-content-center">
        <h1 class="text-center">PAGINA DE EDITAR PRODUTOS</h1>
        <form action="/produtos/ <%= produto.id  %>" method="POST">
            <div class="mb-3">
                <!-- caixinha nome de usuario -->
                <label for="inputName" class="form-label fs-2 mt-2">
                    Produto
                </label>
                <input type="text" id="inputNome" class="form-control form-control-lg" placeholder="Digite um produto"
                    name="nome" required value= <%= produto.nome %>>

                <label for="inputDescricao" class="form-label fs-2 mt-2">
                    Descrição
                </label>
                <input type="text" id="inputDescricao" class="form-control form-control-lg"
                    placeholder="Digite uma descrição" name="descricao" required value= <%= produto.descricao %>>
                <div class="row">
                    <div class="col-md-6">
                        <label class="form-label fs-2 mt-2">
                            Tipo produto
                        </label>
                        <select name="categoria" class="form-select form-select-lg">
                            <option value="Alimentos"  <%= produto.categoria === "Alimentos" ? "selected" : "" %>>Alimentos</option>
                            <option value="Brinquedos" <%= produto.categoria === "Brinquedos" ? "selected" : "" %>>Brinquedos</option>
                            <option value="Futebol" <%= produto.categoria === "Futebol" ? "selected" : "" %>> Futebol</option>
                        </select>
                        <label for="inputPreco" class="form-label fs-2 mt-2">
                            Preço
                        </label>
                        <input type="number" id="inputPreco" class="form-control form-control-lg"
                            placeholder="Digite um Preço" name="preco" required value= <%= produto.preco %>>
                        <label for="inputQuantidade" class="form-label fs-2 mt-2">
                            Quantidade
                        </label>
                        <input type="number" id="inputQuantidade" class="form-control form-control-lg"
                            placeholder="Digite uma Quantidade" name="quantidade" required value= <%= produto.quantidade %>>
                    </div>
                    <div class="col-md-6">
                        <label for="inputImagem" class="form-label fs-2 mt-2">
                            Imagem produto
                        </label>
                        <input type="url" id="inputImagem" class="form-control form-control-lg"
                            placeholder="Digite o link da imagem" name="imagemURL" required value= <%= produto.imagemURL %>>
                        <img style="height: 200px; width: 200px;" class="d-flex mx-auto mt-3" id="previewImagem"
                            src=<%= produto.imagem  %>
                            alt="">
                        </div>
                    </div>
                </div>




                <!-- botao enviar formulario -->
                <button type="submit" class="btn btn-lg btn-primary mt-4"> Editar </button>
            </div>
        </form>
        <!-- Codigo da imagem ser alterada de acordo com o que a pessoa colocar -->
         <script>
            // variavel para acessar a caixinha de input da imagem
            const inputImagem = document.getElementById("inputImagem")
            // variavel para acessar a imagem
            const previewImagem = document.getElementById("previewImagem")
             // variavel para imagem padrão, caso a pessoa não tenha colocado nada ainda
            const imagemPadrao = "https://www.malhariapradense.com.br/wp-content/uploads/2017/08/produto-sem-imagem.png"
             //Evento é disparado quando o usuario coloca algo na caixinha 
            inputImagem.addEventListener("input", () => {
                // Guarda o que a pessoa colocou na caixinha na variavel url 
                 const url = inputImagem.value
                 // troca o valor do src da imagem, pelo o que o usuario colocou na caixinha 
                 previewImagem.src = url || imagemPadrao
            })
         </script>
    </main>

    <!-- Rodape de todas as paginas -->
    <%- include('../partials/footer') %>